  public String generateToken(UserDetails userDetails) {
    
    AppUserDetails appUserDetails = (AppUserDetails) userDetails;
    
    return Jwts.builder()
    .signWith(SignatureAlgorithm.HS256, "azerty")
    .addClaims(Map.of("id", appUserDetails.utilisateur.getIdUser()))
    .addClaims(Map.of("nom", appUserDetails.utilisateur.getNom()))
    .addClaims(Map.of("prenom", appUserDetails.utilisateur.getPrenom()))
    .addClaims(Map.of("role", appUserDetails.utilisateur.getRole().getNom()))
    .setSubject(userDetails.getUsername())
    .compact();
    }version: '3'

services:
 db:
  image: mysql:latest
  container_name: db_1
  environment:
    MYSQL_ROOT_PASSWORD: root
  ports:
  - "3306:3306"
  volumes:
   - dbdata:/var/lib/mysql
 phpmyadmin:
  image: phpmyadmin/phpmyadmin
  container_name: pma_1
  links:
  - db
  environment:
    PMA_HOST: db
    PMA_PORT: 3306
  restart: always
  ports:
    - 8181:80
volumes:
  dbdata: